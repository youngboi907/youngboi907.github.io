<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Open Interest / Volume Ratio - Binance Futures</title>
</head>
<body>
  <h1>Binance Futures OI/Volume Ratio</h1>
  <div id="data">
    Loading...
  </div>

  <script>
    const symbol = "BTCUSDT"; // Change this to any Futures pair you want
    const interval = 60 * 1000; // Update every 60 seconds

    async function fetchData() {
      try {
        // Fetch Open Interest
        const oiResponse = await fetch(`https://fapi.binance.com/futures/data/openInterestHist?symbol=${symbol}&period=5m&limit=1`);
        const oiData = await oiResponse.json();
        const openInterest = parseFloat(oiData[0].sumOpenInterest);

        // Fetch Recent Volume
        const volumeResponse = await fetch(`https://fapi.binance.com/fapi/v1/klines?symbol=${symbol}&interval=5m&limit=2`);
        const volumeData = await volumeResponse.json();
        const volume = parseFloat(volumeData[0][5]); // 5th index is quote asset volume

        // Calculate OI/Volume Ratio
        const ratio = openInterest / volume;

        document.getElementById('data').innerHTML = `
          <p><strong>Symbol:</strong> ${symbol}</p>
          <p><strong>Open Interest:</strong> ${openInterest.toFixed(2)}</p>
          <p><strong>Volume:</strong> ${volume.toFixed(2)}</p>
          <p><strong>OI/Volume Ratio:</strong> ${ratio.toFixed(3)}</p>
        `;
      } catch (error) {
        console.error("Error fetching data:", error);
        document.getElementById('data').innerHTML = "Error fetching data.";
      }
    }

    fetchData();
    setInterval(fetchData, interval);
  </script>
</body>
</html>